"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2074],{2074:(P,u,l)=>{l.r(u),l.d(u,{EventUpdatePageModule:()=>_});var g=l(6895),p=l(433),o=l(8008),s=l(5017),m=l(3900),v=l(7846),c=l(4191),e=l(4650),h=l(9846),E=l(9426);function M(t,d){if(1&t){const n=e.EpF();e.TgZ(0,"ion-datetime",18,19),e.NdJ("ionChange",function(){e.CHM(n);const r=e.MAs(1),i=e.oxw();return e.KtG(i.evento.start=i.formatDate(r.value))}),e.qZA()}2&t&&e.Q6J("showDefaultButtons",!0)}function f(t,d){if(1&t){const n=e.EpF();e.TgZ(0,"ion-datetime",20,19),e.NdJ("ionChange",function(){e.CHM(n);const r=e.MAs(1),i=e.oxw();return e.KtG(i.evento.end=i.formatDate(r.value))}),e.qZA()}2&t&&e.Q6J("showDefaultButtons",!0)}const Z=[{path:"",component:(()=>{class t{constructor(n,a,r,i,T,C,A){this.router=n,this.datepipe=a,this.route=r,this.navCtrl=i,this.modalCtrl=T,this.uiService=C,this.eventService=A,this.evento={title:"",desc:"",allDay:!0,start:this.datepipe.transform(new Date,"EEEE, dd/MMMM/YYYY HH:mm"),end:this.datepipe.transform(new Date,"EEEE, dd/MMMM/YYYY HH:mm")}}ngOnInit(){this.route.params.pipe((0,m.w)(({id:n})=>this.eventService.getEvent(n))).subscribe(n=>{this.evento=n})}regresar(){this.navCtrl.navigateBack("tabs/events")}cancelStart(){this.modalCtrl.dismiss(null,"cancel")}confirmStart(){this.modalCtrl.dismiss("confirm")}cancel(){this.modalCtrl.dismiss(null,"cancel")}confirm(){this.modalCtrl.dismiss("confirm")}formatDate(n){return(0,v.Z)((0,c.Z)(n),"EEEE, dd/MMMM/yyyy HH:mm")}formatDateEnd(n){return(0,v.Z)((0,c.Z)(n),"EEEE, dd/MMMM/yyyy HH:mm")}saveEvent(){0!==this.evento.title.trim().length&&(this.evento.id?this.eventService.updateEvent(this.evento.id,this.evento).subscribe(n=>{console.log(n),this.regresar(),this.uiService.presentToast("Updated event")}):console.log(this.evento))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(s.F0),e.Y36(g.uU),e.Y36(s.gz),e.Y36(o.SH),e.Y36(o.IN),e.Y36(h.F),e.Y36(E.P))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-event-update"]],decls:45,vars:7,consts:[[1,"ion-no-border"],["color","primary"],["slot","start"],[3,"tap"],["slot","icon-only","md","arrow-back-sharp","color","light"],[1,"ion-padding"],["lines","none"],["position","floating"],["tpye","text","clearInput","",3,"ngModel","ngModelChange"],["color","dark",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],["fill","clear","slot","end","id","open-date-start"],["md","calendar-sharp","slot","icon-only","color","dark"],["trigger","open-date-start","show-backdrop","true"],["fill","clear","slot","end","id","open-date-end"],["trigger","open-date-end","show-backdrop","true"],["expand","block",1,"miBoton",3,"tap"],["md","create-sharp","slot","end","color","light"],["id","datetimeStart","locale","es-ES",3,"showDefaultButtons","ionChange"],["ionmodalDatetime",""],["id","datetimeEnd","locale","es-ES",3,"showDefaultButtons","ionChange"]],template:function(n,a){1&n&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2)(3,"ion-button",3),e.NdJ("tap",function(){return a.regresar()}),e._UZ(4,"ion-icon",4),e.qZA()(),e.TgZ(5,"ion-title"),e._uU(6),e.qZA()()(),e.TgZ(7,"ion-content",5)(8,"ion-list")(9,"ion-item",6)(10,"ion-label",7)(11,"b"),e._uU(12,"Title"),e.qZA()(),e.TgZ(13,"ion-input",8),e.NdJ("ngModelChange",function(i){return a.evento.title=i}),e.qZA()(),e.TgZ(14,"ion-item",6)(15,"ion-label",7)(16,"b"),e._uU(17,"Description"),e.qZA()(),e.TgZ(18,"ion-input",8),e.NdJ("ngModelChange",function(i){return a.evento.desc=i}),e.qZA()(),e.TgZ(19,"ion-item",6)(20,"ion-label")(21,"b"),e._uU(22,"AllDay?"),e.qZA()(),e.TgZ(23,"ion-toggle",9),e.NdJ("ngModelChange",function(i){return a.evento.allDay=i}),e.qZA()(),e.TgZ(24,"ion-item",6)(25,"ion-label")(26,"b"),e._uU(27,"Start:"),e.qZA()(),e.TgZ(28,"ion-input",10),e.NdJ("ngModelChange",function(i){return a.evento.start=i}),e.qZA(),e.TgZ(29,"ion-button",11),e._UZ(30,"ion-icon",12),e.qZA(),e.TgZ(31,"ion-popover",13),e.YNc(32,M,2,1,"ng-template"),e.qZA()(),e.TgZ(33,"ion-item",6)(34,"ion-label")(35,"b"),e._uU(36,"End:"),e.qZA()(),e.TgZ(37,"ion-input",10),e.NdJ("ngModelChange",function(i){return a.evento.end=i}),e.qZA(),e.TgZ(38,"ion-button",14),e._UZ(39,"ion-icon",12),e.qZA(),e.TgZ(40,"ion-popover",15),e.YNc(41,f,2,1,"ng-template"),e.qZA()(),e.TgZ(42,"ion-button",16),e.NdJ("tap",function(){return a.saveEvent()}),e._uU(43),e._UZ(44,"ion-icon",17),e.qZA()()()),2&n&&(e.xp6(6),e.hij(" ",a.evento.id?"EventUpdate":"AddEvent"," "),e.xp6(7),e.Q6J("ngModel",a.evento.title),e.xp6(5),e.Q6J("ngModel",a.evento.desc),e.xp6(5),e.Q6J("ngModel",a.evento.allDay),e.xp6(5),e.Q6J("ngModel",a.evento.start),e.xp6(9),e.Q6J("ngModel",a.evento.end),e.xp6(6),e.hij(" ",a.evento.id?"EventUpdatet":"AddEvent"," "))},dependencies:[p.JJ,p.On,o.YG,o.Sm,o.W2,o.x4,o.Gu,o.gu,o.pK,o.Ie,o.Q$,o.q_,o.wd,o.ho,o.sr,o.d8,o.w,o.QI,o.j9],styles:["ion-popover[_ngcontent-%COMP%]{--color: var(--ion-color-primary);--background: var(--ion-color-dark)}"]}),t})()}];let U=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[s.Bz.forChild(Z),s.Bz]}),t})(),_=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[g.uU],imports:[g.ez,p.u5,o.Pc,U]}),t})()}}]);