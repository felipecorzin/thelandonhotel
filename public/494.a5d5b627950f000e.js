"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[494],{494:(C,u,i)=>{i.r(u),i.d(u,{CalendarPageModule:()=>S});var v=i(6895),_=i(433),r=i(8008),w=i(5017),c=i(655),m=i(4004),l=i(7579),s=i(3203),g=i(8344),p=i(3499),f=i(2641),e=i(4650),D=i(9846),y=i(7556),E=i(9426);function M(a,h){1&a&&(e.TgZ(0,"div",20),e._UZ(1,"ion-icon",21)(2,"br"),e._uU(3," Loading events... "),e.qZA())}function T(a,h){if(1&a){const n=e.EpF();e.TgZ(0,"mwl-calendar-month-view",25),e.NdJ("dayClicked",function(o){e.CHM(n);const d=e.oxw(2);return e.KtG(d.dayClicked(o.day))})("eventClicked",function(o){e.CHM(n);const d=e.oxw(2);return e.KtG(d.handleEvent("Clicked",o.event))}),e.qZA()}if(2&a){const n=e.oxw().$implicit,t=e.oxw();e.Q6J("viewDate",t.viewDate)("events",n)("refresh",t.refresh)("activeDayIsOpen",t.activeDayIsOpen)}}function P(a,h){if(1&a){const n=e.EpF();e.TgZ(0,"mwl-calendar-week-view",26),e.NdJ("eventClicked",function(o){e.CHM(n);const d=e.oxw(2);return e.KtG(d.handleEvent("Clicked",o.event))}),e.qZA()}if(2&a){const n=e.oxw().$implicit,t=e.oxw();e.Q6J("viewDate",t.viewDate)("events",n)("refresh",t.refresh)}}function Z(a,h){if(1&a){const n=e.EpF();e.TgZ(0,"mwl-calendar-day-view",26),e.NdJ("eventClicked",function(o){e.CHM(n);const d=e.oxw(2);return e.KtG(d.handleEvent("Clicked",o.event))}),e.qZA()}if(2&a){const n=e.oxw().$implicit,t=e.oxw();e.Q6J("viewDate",t.viewDate)("events",n)("refresh",t.refresh)}}function O(a,h){if(1&a&&(e.TgZ(0,"div")(1,"div",22),e.YNc(2,T,1,4,"mwl-calendar-month-view",23),e.YNc(3,P,1,3,"mwl-calendar-week-view",24),e.YNc(4,Z,1,3,"mwl-calendar-day-view",24),e.qZA()()),2&a){const n=e.oxw();e.xp6(1),e.Q6J("ngSwitch",n.view),e.xp6(1),e.Q6J("ngSwitchCase",n.CalendarView.Month),e.xp6(1),e.Q6J("ngSwitchCase",n.CalendarView.Week),e.xp6(1),e.Q6J("ngSwitchCase",n.CalendarView.Day)}}const b={red:{primary:"#ad2121",secondary:"#FAE3E3"},blue:{primary:"#1e90ff",secondary:"#D1E8FF"},yellow:{primary:"#e3bc08",secondary:"#FDF1BA"}},k=[{path:"",component:(()=>{class a{constructor(n,t,o,d,Y,F,N,V){this.datepipe=n,this.router=t,this.modalCtrl=o,this.alertCtrl=d,this.navCtrl=Y,this.uiService=F,this.authService=N,this.eventService=V,this.event={id:"",title:"",desc:"",start:this.datepipe.transform(new Date,"EEEE, dd/MMMM/YYYY HH:mm"),end:this.datepipe.transform(new Date,"EEEE, dd/MMMM/YYYY HH:mm"),allDay:!1},this.calendarMes="month",this.viewDate=new Date,this.refresh=new l.x,this.activeDayIsOpen=!1,this.CalendarView=s.wr,this.view=s.wr.Month}ngOnInit(){this.loadCalendarEvents()}doRefresh(n){setTimeout(()=>{n.target.complete()},2e3)}regresar(){this.navCtrl.navigateBack("tabs/events")}setView(n){this.view=n}closeOpenMonthViewDay(){this.activeDayIsOpen=!1}loadCalendarEvents(){this.events$=this.eventService.getEvents().pipe((0,m.U)(n=>n.map(t=>({title:t.title,description:t.desc,start:new Date(t.start),end:new Date(t.end),color:b.yellow,allDay:t.allDay,resizable:{beforeStart:!0,afterEnd:!0},draggable:!0,meta:{event:t}}))))}dayClicked({date:n,events:t}){(0,p.Z)(n,this.viewDate)&&(this.activeDayIsOpen=!((0,f.Z)(this.viewDate,n)&&!0===this.activeDayIsOpen||0===t.length),this.viewDate=n)}handleEvent(n,t){return(0,c.mG)(this,void 0,void 0,function*(){const o=yield this.modalCtrl.create({mode:"md",componentProps:{event:t,action:n},breakpoints:[0,.5,.8],initialBreakpoint:.8,component:g.D});console.log(t),yield o.present()})}}return a.\u0275fac=function(n){return new(n||a)(e.Y36(v.uU),e.Y36(w.F0),e.Y36(r.IN),e.Y36(r.Br),e.Y36(r.SH),e.Y36(D.F),e.Y36(y.e),e.Y36(E.P))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-calendar"]],decls:37,vars:21,consts:[[1,"ion-no-border"],["color","primary"],["slot","start"],[3,"tap"],["slot","icon-only","md","arrow-back-sharp","color","light"],["slot","fixed",3,"ionRefresh"],["refreshingSpinner","bubbles"],["size","2"],["fill","clear","mwlCalendarPreviousView","",3,"view","viewDate","viewDateChange"],["name","arrow-back","slot","icon-only","color","light"],["size","8"],["fill","outline","expand","block","color","light","mwlCalendarToday","",1,"miBoton",3,"viewDate","viewDateChange"],["fill","clear","mwlCalendarNextView","",3,"view","viewDate","viewDateChange"],["md","arrow-forward-sharp","slot","icon-only","color","light"],[3,"ngModel","ngModelChange"],["value","month",3,"click"],["value","week",3,"click"],["value","day",3,"click"],["loading",""],[4,"ngIf","ngIfElse"],[1,"ion-text-center"],["md","refresh-sharp","color","primary"],[3,"ngSwitch"],[3,"viewDate","events","refresh","activeDayIsOpen","dayClicked","eventClicked",4,"ngSwitchCase"],[3,"viewDate","events","refresh","eventClicked",4,"ngSwitchCase"],[3,"viewDate","events","refresh","activeDayIsOpen","dayClicked","eventClicked"],[3,"viewDate","events","refresh","eventClicked"]],template:function(n,t){if(1&n&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2)(3,"ion-button",3),e.NdJ("tap",function(){return t.regresar()}),e._UZ(4,"ion-icon",4),e.qZA()(),e.TgZ(5,"ion-title"),e._uU(6," Calendar "),e.qZA()()(),e.TgZ(7,"ion-content")(8,"ion-refresher",5),e.NdJ("ionRefresh",function(d){return t.doRefresh(d)}),e._UZ(9,"ion-refresher-content",6),e.qZA(),e.TgZ(10,"ion-toolbar",1)(11,"ion-row")(12,"ion-col",7)(13,"ion-button",8),e.NdJ("viewDateChange",function(d){return t.viewDate=d})("viewDateChange",function(){return t.closeOpenMonthViewDay()}),e._UZ(14,"ion-icon",9),e.qZA()(),e.TgZ(15,"ion-col",10)(16,"ion-button",11),e.NdJ("viewDateChange",function(d){return t.viewDate=d}),e._uU(17),e.ALo(18,"calendarDate"),e.qZA()(),e.TgZ(19,"ion-col",7)(20,"ion-button",12),e.NdJ("viewDateChange",function(d){return t.viewDate=d})("viewDateChange",function(){return t.closeOpenMonthViewDay()}),e._UZ(21,"ion-icon",13),e.qZA()()()(),e.TgZ(22,"ion-toolbar",1)(23,"ion-segment",14),e.NdJ("ngModelChange",function(d){return t.calendarMes=d}),e.TgZ(24,"ion-segment-button",15),e.NdJ("click",function(){return t.setView(t.CalendarView.Month)}),e.TgZ(25,"ion-label"),e._uU(26,"Month"),e.qZA()(),e.TgZ(27,"ion-segment-button",16),e.NdJ("click",function(){return t.setView(t.CalendarView.Week)}),e.TgZ(28,"ion-label"),e._uU(29,"Week"),e.qZA()(),e.TgZ(30,"ion-segment-button",17),e.NdJ("click",function(){return t.setView(t.CalendarView.Day)}),e.TgZ(31,"ion-label"),e._uU(32,"Day"),e.qZA()()()(),e.YNc(33,M,4,0,"ng-template",null,18,e.W1O),e.YNc(35,O,5,4,"div",19),e.ALo(36,"async"),e.qZA()),2&n){const o=e.MAs(34);e.xp6(13),e.Q6J("view",t.view)("viewDate",t.viewDate),e.xp6(3),e.Q6J("viewDate",t.viewDate),e.xp6(1),e.hij(" ",e.Dn7(18,15,t.viewDate,t.view+"ViewTitle","en")," "),e.xp6(3),e.Q6J("view",t.view)("viewDate",t.viewDate),e.xp6(3),e.Q6J("ngModel",t.calendarMes),e.xp6(1),e.ekj("active",t.view===t.CalendarView.Month),e.xp6(3),e.ekj("active",t.view===t.CalendarView.Week),e.xp6(3),e.ekj("active",t.view===t.CalendarView.Day),e.xp6(5),e.Q6J("ngIf",e.lcZ(36,19,t.events$))("ngIfElse",o)}},dependencies:[v.O5,v.RF,v.n9,_.JJ,_.On,r.YG,r.Sm,r.wI,r.W2,r.Gu,r.gu,r.Q$,r.nJ,r.Wo,r.Nd,r.cJ,r.GO,r.wd,r.sr,r.QI,s.YX,s.MG,s.nA,s.GH,s.TK,s.Se,v.Ov,s.vk],styles:["ion-label[_ngcontent-%COMP%]{font-size:1.2em;font-weight:700;text-transform:none!important;--color: var(--ion-color-light)}"]}),a})()}];let A=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[w.Bz.forChild(k),w.Bz]}),a})();var J=i(5503),U=i(5642),I=i(789);let S=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[v.uU],imports:[v.ez,_.u5,r.Pc,A,J.D,U.K,s._8.forRoot({provide:s._A,useFactory:I.x})]}),a})()},9426:(C,u,i)=>{i.d(u,{P:()=>w});var v=i(2340),_=i(4650),r=i(529);let w=(()=>{class c{constructor(l){this.http=l,this.baseUrl=v.N.baseUrl}getEvents(){return this.http.get(`${this.baseUrl}/event/findAll`)}createEvent(l){return this.http.post(`${this.baseUrl}/event/createEvent`,l)}getEvent(l){return this.http.get(`${this.baseUrl}/event/${l}`)}updateEvent(l,s){return this.http.put(`${this.baseUrl}/event/${l}`,s)}deleteEvent(l){return this.http.delete(`${this.baseUrl}/event/${l}`)}}return c.\u0275fac=function(l){return new(l||c)(_.LFG(r.eN))},c.\u0275prov=_.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},9846:(C,u,i)=>{i.d(u,{F:()=>w});var v=i(655),_=i(4650),r=i(8008);let w=(()=>{class c{constructor(l,s){this.alertController=l,this.toastController=s}alertaInformativaLogin(l,s,g){return(0,v.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:l,subHeader:s,message:g,buttons:["OK"]})).present()})}alertaInformativa(l){return(0,v.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({message:l,buttons:["OK"]})).present()})}presentToast(l){return(0,v.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:l,duration:1500,position:"bottom",cssClass:"miToast"})).present()})}}return c.\u0275fac=function(l){return new(l||c)(_.LFG(r.Br),_.LFG(r.yF))},c.\u0275prov=_.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()}}]);